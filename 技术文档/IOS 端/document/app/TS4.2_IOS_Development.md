# TS4.2_IOS开发文档

### 聊天模块说明文档

层级 |文件名|说明 |关键方法 |方法说明 |关键属性 |属性说明 |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| 服务层 | ChatModel | 负责处理聊天的本地数据库入库与服务器通信问题 | （-(void)requestClearNewMessage:(ChatRoom *)room; | 发送请求清空对应房间的新消息，主要是进入房间时调用 | messgeIdArr | 获取到的消息数组，有可能本地正在存，服务器又推过来了，用来过滤掉这种情况 |
||| 请求需要手动调用，本地化会自动处理 | （-(void)requestDeleteRoom:(NSString *)roomId; | 发送请求删除房间，后台删除，与本地数据库无关，本地数据库是直接删除的 | dataSource | 当前用户的房间列表，对象数组,内部存储的是chatRoom，外部可以直接获取 |
||| 请求的回调全部采用通知，具体看每个通知代表什么意思，请自行百度翻译或看通知的注释 | （-(void)requestRoomList:(NSString *)roomId; | 获取房间列表，回调会自动本地化，如果传了roomId就是获取某个，没传就是获取整个房间列表 | saveSource | 要保存的房间列表，入库时使用，外部尽量不要调用该属性 |
||||||||
||||||||
||||||||
||||||||
||||||||
||||||||
||||||||
||||||||







### 微博/分享列表模块说明